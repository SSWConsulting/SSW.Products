---
seo:
  title: 优化 YakShaver 文件大小 | Lewis Toh
  description: >-
    了解如何优化文件大小，使 YakShaver 能创建更高质量的工作项或邮件
  openGraphTitle: 优化 YakShaver 文件大小 | Lewis Toh
category: 最新动态
title: 优化 YakShaver 文件大小
date: '2025-02-06T13:00:00.000Z'
author: Lewis Toh
authorImage: /people/Lewis-Toh.jpg
sswPeopleLink: 'https://www.ssw.com.au/people/lewis-toh/'
bannerImage: /YakShaver/Blogs/video_file_update.png
readLength: 2 min
summaryCard: true
summary: >
  ## YakShaver 现支持更大视频文件


  YakShaver 现在可以处理大于 25MB 的视频，支持更长时间和更高质量的录制。


  ***


  ## 为什么之前有 25MB 限制？


  Azure OpenAI Whisper 模型对音频输入有 25MB 的硬性限制。
  上传完整视频文件效率低且成本高——尤其是分块处理且被滥用时。


  ***


  ## 智能解决方案：去除视频画面


  YakShaver 不是绕过限制，而是使用 Xabe.FFmpeg 仅提取音频，
  大幅减小文件大小，同时保持转录质量高。


  ***


  ## 实际文件大小减少


  * 1 分钟 4K 视频：38.87MB ➜ 0.62MB

  * 30 分钟 2K 视频：209.89MB ➜ 7.95MB
---

YakShaver 现在可以处理大于 25MB 的视频！这意味着更长时间和更高质量的视频现在可以通过 YakShaver 处理，从而生成更高质量的工作项或邮件！

#### 为什么一开始有 25MB 限制？

我们使用的是 [Azure OpenAI 的 Whisper AI 模型](https://learn.microsoft.com/en-us/azure/ai-services/speech-service/whisper-overview)，该模型目前有 25MB 文件大小限制。

#### Azure OpenAI 的 Whisper AI 模型支持[批量转录](https://learn.microsoft.com/en-us/azure/ai-services/speech-service/batch-transcription)，为什么不使用？

对大小不设硬性限制并将视频截断为 25MB 块进行批处理，从长远来看并不是好主意。这样做会浪费大量处理能力，且如果没有检查机制，很容易被滥用上传极大文件。

此外，该功能要求视频文件存储在 Blob 存储中，这意味着处理更长视频的成本更高。

#### 我们如何突破 25MB 限制？

简短回答是我们没有突破限制，而是去除了 Whisper 不需要的部分——占用视频文件大部分字节的画面。

我们使用一个实现了 [FFmpeg](https://ffmpeg.org/) 的库，名为 [Xabe.FFmpeg](https://ffmpeg.xabe.net/index.html)，它允许我们操作和处理媒体文件。通过仅从视频文件中提取音频，我们显著减小了文件大小，只保留转录服务所需的数据——音频。

以下是转录前文件大小的几个示例：
1 分钟 4K 视频 - 38.87 MB -> 0.62 MB 音频 .mp3（视频大小的 1.5%）
30 分钟 2K 视频 - 209.89 MB -> 7.95 MB 音频 .mp3（视频大小的 3.8%）